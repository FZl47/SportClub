<!doctype html>
<html lang="fa">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>مجتمع ورزشی ایکس و ایگرگ</title>
    <meta name="keywords" content="Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod.">
    <meta name="description" content="Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod.">

    {#  <link rel="stylesheet" href="{{ static_url }}/assets/bootstrap/css/bootstrap.min.css">#}
    <link rel="stylesheet" href="{{ static_url }}/assets/fonts/flat-icon/flaticon.css">
    <link rel="stylesheet" href="{{ static_url }}/assets/css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <!-- jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <!-- Latest compiled JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>


</head>
<body>
<div id="content-wrapper">
    <header class="header header--bg">
        <div class="container">
            <nav class="navbar">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <div class="navbar-brand">
                        {#                        <img src="{{ static_url }}/assets/images/logo-ball.png" alt="Logo Ball">#}
                        Logo
                    </div>
                </div>
                <div class="collapse navbar-collapse" id="myNavbar">
                    <ul class="nav navbar-nav pull-right">
                        <li><a href="#about-us">درباره ما</a></li>
                        <li><a href="#contact-us">تماس با ما</a></li>
                        <li><a href="#reserve">رزرو</a></li>
                    </ul>
                </div>
            </nav>
            <div class="row">
                <div class="col-lg-6">
                    <img class="img-rwesponsive" src="{{ static_url }}/assets/images/running-man.png" alt="">
                </div>
                <div class="col-lg-6 header__content">
                    <h1 class="title">مجتمع ورزشی ایکس و ایگرگ <span class="title-style"></span></h1>
                    <p>
                        ن را می طلبد تا با نرم افزارها شناخت بیشتری را برای طراحان رایانه ای علی الخصوص طراحان خلاقی و
                        فرهنگ پیشرو در زبان فارسی ایجاد کرد. در این صورت می توان امید داشت که تمام و دشواری موجود در
                        ارائه راهکارها و شرایط سخت تایپ به پایان رسد وزمان مورد نیاز شامل حروفچینی دستاوردهای اصلی و
                        جوابگوی سوالات پیوسته اهل دنیای موجود طراحی اساسا مورد استفاده قرار گیرد.
                    </p>
                    <a class="header__button" href="#contact-us">تماس با ما</a>
                    <a class="header__button" href="#reserve">رزرو</a>
                </div>
            </div>
        </div>
    </header>

    <section class="steps" id="reserve">
        <div class="container">
            <div class="page-section text-center">
                <h2 class="page-section__title">رزرو وقت</h2>
                <div class="page-section__title-style">
                    <span class="first-line"></span>
                    <span class="second-line"></span>
                </div>
                <p class="page-section__subtitle">
                    ید داشت که تمام و دشواری موجود در ارائه راهکارها و شرایط سخت تایپ به پایان رسد وزمان مورد نیاز شامل
                    حروفچینی دستاوردهای اصلی و جوابگوی سوالات پیوسته اهل دنیای موجود طراحی اساسا مورد استفاده قرار گیرد.
                </p>
                <div class="row">
                    <table dir="rtl">
                        {% for day in days %}
                            <tr {% if day.is_today() == True %}class="today"{% endif %}>
                                <td>
                                    {{ day.get_day_name() }}
                                </td>
                                {% with times = day.get_times() %}
                                    {% for time in times %}
                                        <td class="time {% if time.available == True %}available {% else %}not-available {% endif %}"
                                            {% if time.available == True %}btn-reserve-time time-id="{{ time.id }}"
                                            day-id="{{ day.id }}" {% endif %}>
                                            <p class="time-timing">{{ time.time_start }} - {{ time.time_end }}</p>
                                            <p class="time-price">
                                                {{ time.price }}
                                                <span class="symbol-currency">تومان</span>
                                            </p>
                                        </td>
                                    {% endfor %}
                                    {% if times == [] %}
                                        <td class="time-not-found">
                                            وقتی یافت نشد
                                        </td>
                                    {% endif %}
                                {% endwith %}
                            </tr>
                        {% endfor %}
                    </table>
                </div>
            </div>
        </div>
    </section>

    <section class="video video--bg" id="about-us">
        <div class="container">
            <div class="page-section">
                <div class="row">
                    <div class="col-md-7 video__left">
                        <a data-toggle="modal" data-target="#myModal" href="#"><i class="material-icons">play_circle_filled</i></a>
                    </div>
                    <div class="col-md-5">
                        <div class="video__right text-center">
                            <h2 class="video__title">درباره ما </h2>
                            <div class="video__title-style">
                                <span class="first-line"></span>
                                <span class="second-line"></span>
                            </div>
                            <p>لورم ایپسوم متن ساختگی با تولید سادگی نامفهوم از صنعت چاپ و با استفاده از طراحان گرافیک است. چاپگرها و متون بلکه روزنامه و مجله در ستون و سطرآنچنان که لازم است .</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- video-popup -->
    <div class="container">
        <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
             aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-body">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                        <div class="embed-responsive embed-responsive-16by9">
                            <video src="{{ static_url }}/assets/videos/1.mp4" controls></video>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- video-popup-end -->



    <section class="form form--bg" id="contact-us">
        <div class="container">
            <div class="page-section">
                <div class="text-center">
                    <h2 class="page-section__title page-section__title--white">تماس با ما</h2>
                    <div class="form__title-style">
                        <span class="first-line"></span>
                        <span class="second-line"></span>
                    </div>
                    <p class="page-section__subtitle page-section__subtitle--white text-center">
                        لورم ایپسوم متن ساختگی با تولید سادگی نامفهوم از صنعت چاپ و با استفاده از طراحان گرافیک است.
                    </p>
                    <div class="container-phone">
                        <div>
                            <i class="fa fa-phone"></i>
                            <span>
                                <strong>
                                    0923432432
                                </strong>
                            </span>
                        </div>
                    </div>
                </div>
                <form action="submit-message" dir="rtl" method="post">
                    <div class="form-group">
                        <input class="form-control" type="text" name="name" required minlength="3" maxlength="200" placeholder="نام و نام خانوادگی">
                    </div>
                    <div class="form-group">
                        <input class="form-control" type="number" name="phone" required minlength="11" maxlength="12" placeholder="تلفن همراه">
                    </div>
                    <div class="form-group">
                        <textarea class="form-control" rows="5" name="message" required minlength="3" maxlength="200" placeholder="نظر"></textarea>
                    </div>
                    <div class="row">
                        <div class="form-button">
                            <input class="button--form" style="width: 80%;margin: auto; margin-top: 10px;display:block;" type="submit" value="ثبت">
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </section>

    <footer class="footer footer--bg">
        <div class="container">
            <div class="row">
                <div class="col-md-4 footer__left">
                    <a class="navbar-brand" href="#"></a>
                    <p>Copyright <span>&copy;</span> <a href="https://fazelmomeni.codevar.ir" style="color:#ff4e2a;">Fazel Momeni</a></p>
                </div>
                <div class="col-md-2 footer__link">
                    <li><a href="#reserve">رزرو وقت</a></li>
                    <li><a href="#about-us">درباره ما</a></li>
                    <li><a href="#contact-us">تماس با ما</a></li>
                </div>
                <div class="col-md-4 footer__social-icons">
                    <li><a href="#"><i class="flaticon-facebook-letter-logo"></i></a></li>
                    <li><a href="#"><i class="flaticon-twitter-logo-silhouette"></i></a></li>
                    <li><a href="#"><i class="flaticon-google-plus"></i></a></li>
                    <li><a href="#"><i class="flaticon-pinterest-logo"></i></a></li>
                </div>
            </div>
        </div>
    </footer>

</div>

<div class="modal fade" id="modal-reserve-time" role="dialog">
    <div class="modal-dialog">
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h3 class="modal-title">پرداخت و ثبت</h3>
            </div>
            <div class="modal-body">
                <p>پس از پرداخت وقت برای شما رزرو میشود .</p>
                <form action="reserve-time" id="form-reserve" method="post" required content="application/json">
                    <input type="hidden" name="time_id" id="input-time-id">
                    <input type="hidden" name="day_id" id="input-day-id">
                    <div class="form-group">
                        <label for="input-name"> نام و نام خانوادگی :</label>
                        <input type="text" required maxlength="200" minlength="3" id="input-name" name="name" class="form-control">
                    </div>
                    <div class="form-group">
                        <label for="input-phone"> تلفن همراه :</label>
                        <input type="number" required maxlength="12" minlength="11" id="input-phone" name="phone" class="form-control">
                    </div>
                    <div class="form-group">
                       <button type="submit">پرداخت و ثبت</button>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">بستن</button>
            </div>
        </div>

    </div>
</div>


<script src="{{ static_url }}/assets/jquery/jquery-3.2.1.min.js"></script>
<script src="{{ static_url }}/assets/bootstrap/js/bootstrap.min.js"></script>
<!-- <script src="assets/owl-slider/owl.carousel.min.js"></script> -->
<script>

    GetCookieFunctionality_ShowNotification()

    function SetCookieFunctionality_ShowNotification(Text, Type, Timer = 5000, LevelOfNecessity = 2) {
        document.cookie = `Functionality_N=${ConvertCharPersianToEnglishDecode(Text)}~${Type}~${Timer}~${LevelOfNecessity};path=/`
    }

    function GetCookieFunctionality_ShowNotification() {
        setTimeout(function () {
            let AllCookies = document.cookie.split(';')
            let Cookie_Key
            let Cookie_Val
            for (let Co of AllCookies) {
                let Key = Co.split('=')[0]
                let Value = Co.split('=')[1]
                if (Key == 'Functionality_N' || Key == ' Functionality_N' || Key == ' Functionality_N ') {
                    Cookie_Key = Key
                    Cookie_Val = Value
                }
            }
            let Text
            let Type
            let Timer
            let LevelOfNecessity
            try {
                Text = Cookie_Val.split('~')[0] || 'نا مشخص'
                Text = Text.replace('"', '')
                Text = Text.replace("'", '')
                Type = Cookie_Val.split('~')[1] || 'Warning'
                Timer = Cookie_Val.split('~')[2] || 8000
                LevelOfNecessity = Cookie_Val.split('~')[3] || 2
            } catch (e) {
            }
            if (Cookie_Key == 'Functionality_N' || Cookie_Key == ' Functionality_N' || Cookie_Key == ' Functionality_N ') {
                let TextResult = ConvertCharEnglishToPersianDecode(Text)
                ShowNotificationMessage(TextResult, Type, Timer, LevelOfNecessity)
            }
            document.cookie = `${Cookie_Key}=Closed; expires=Thu, 01 Jan 1970 00:00:00 UTC;path=/`
        })
    }

    function GetKeyByValue(Obj, Val) {
        let r = Object.keys(Obj).find(K => Obj[K] === Val)
        if (!r){
            r = Val
        }
        return r
    }


    /////////////  Convert English Char & Persian Decode //////////////////////////

    function ConvertCharEnglishToPersianDecode(Text) {
        let Dict_Char_Persian_English = {
            'ا': 'a1',
            'آ': 'a2',
            'ب': 'b1',
            'پ': 'p1',
            'ت': 't1',
            'ث': 'c1',
            'ج': 'j1',
            'چ': 'ch',
            'ح': 'h1',
            'خ': 'kh',
            'د': 'd1',
            'ذ': 'z1',
            'ر': 'r1',
            'ز': 'z2',
            'ژ': 'zh',
            'س': 'c2',
            'ش': 'sh',
            'ص': 'c3',
            'ض': 'z3',
            'ط': 't2',
            'ظ': 'z4',
            'ع': 'a3',
            'غ': 'g_',
            'ف': 'f1',
            'ق': 'g5',
            'ک': 'k1',
            'گ': 'k2',
            'ل': 'l1',
            'م': 'm1',
            'ن': 'n1',
            'و': 'v1',
            'ه': 'h2',
            'ی': 'e2',
            ' ': '11',
            '': '22',
        }
        let CharEn = Object.keys(Dict_Char_Persian_English)
        let TextResult = ''
        for (let Index = 0; Index < Text.length; Index++) {
            if (Index % 2 == 0) {
                TextResult += GetKeyByValue(Dict_Char_Persian_English, Text[Index] + Text[Index + 1])
            }
        }
        return TextResult
    }


    function ConvertCharPersianToEnglishDecode(Text) {
        let Res = ''
        for (let i of Text) {
            try {
                Res += Dict_Char_Persian_English[i]
            } catch (e) {
                Res += i
            }
        }
        return Res
    }


    function SendAjax(Url, Data = {}, Method = 'POST', Success, Failed) {
        function __Redirect__(response) {
            if (response.__Redirect__ == 'True') {
                setTimeout(function () {
                    window.location.href = response.__RedirectURL__
                }, parseInt(response.__RedirectAfter__ || 0))
            }
        }

        function Loading(State) {
            if (State == 'Show') {
                LockAllElements()
                let ContainerLoading = document.createElement('div')
                let CircleLoading = document.createElement('div')
                ContainerLoading.id = 'ContainerLoadingAJAX'
                ContainerLoading.classList.add('ContainerLoadingAJAX')
                ContainerLoading.innerHTML = `
                <div class="LoadingCircle"><span></span></div>
            `
                document.body.appendChild(ContainerLoading)
            } else {
                try {
                    UnlockAllElements()
                    document.getElementById('ContainerLoadingAJAX').remove()
                } catch (e) {
                }
            }
        }

        if (Success == undefined) {
            Success = function (response) {
                __Redirect__(response)
            }
        }
        if (Failed == undefined) {
            Failed = function (response) {
                ShowNotificationMessage('Could not connect to server ', 'Error', 30000, 2)
            }
        }
        //Loading('Show')
        $.ajax(
            {
                url: Url,
                data: JSON.stringify(Data),
                type: Method,
                contentType: 'application/json;charset=UTF-8',
                success: function (response) {
                    __Redirect__(response)
                    //Loading('Hide')
                    Success(response)
                },
                failed: function (response) {
                    __Redirect__(response)
                    //Loading('Hide')
                    Failed(response)
                },
                error: function (response) {
                    __Redirect__(response)
                    //Loading('Hide')
                    Failed(response)
                    RemoveLoading()
                }
            }
        )
    }

    let LIST_ALL_NOTIFICATIONS_INSTANCE = []
    let COUNTER_CREATE_NOTIFICATIONS = 0

    class ShowNotificationMessage_Model {
        constructor(Text, Type, Timer = 5000, LevelOfNecessity = 3) {
            COUNTER_CREATE_NOTIFICATIONS += 1
            LIST_ALL_NOTIFICATIONS_INSTANCE.push(this)
            this.ID_Notification = COUNTER_CREATE_NOTIFICATIONS
            this.Index_Notification = LIST_ALL_NOTIFICATIONS_INSTANCE.length - 1

            let ContainerNotifications = document.getElementById('ContainerNotificationsMessage')
            if (ContainerNotifications == undefined) {
                ContainerNotifications = document.createElement('div')
                ContainerNotifications.id = 'ContainerNotificationsMessage'
            }
            let ContainerMessage = document.createElement('div')
            let Message = document.createElement('p')
            let BtnClose = document.createElement('i')
            let Icon = document.createElement('i')

            ContainerMessage.setAttribute('ID_Notification', this.ID_Notification)
            BtnClose.setAttribute('Index_Notification', this.Index_Notification)

            ContainerMessage.classList.add('NotificationMessage')
            ContainerMessage.classList.add(`LevelOfNecessity_${LevelOfNecessity}`)
            ContainerMessage.classList.add(`Notification${Type}`)
            Message.innerText = Text
            BtnClose.className = 'fa fa-times BtnCloseNotification'
            if (Type == 'Success') {
                Icon.className = 'fa fa-check-circle IconNotification IconNotification_Success'
            } else if (Type == 'Error') {
                Icon.className = 'fa fa-times-circle IconNotification IconNotification_Error '
            } else if (Type == 'Warning') {
                Icon.className = 'fa fa-exclamation-triangle IconNotification IconNotification_Warning'
            }
            ContainerMessage.appendChild(Icon)
            ContainerMessage.appendChild(BtnClose)
            ContainerMessage.appendChild(Message)
            ContainerNotifications.appendChild(ContainerMessage)
            document.body.appendChild(ContainerNotifications)
            this.ContainerMessage = ContainerMessage
            let Index_Notification = this.Index_Notification
            setTimeout(function () {
                RemoveNotification_Func(Index_Notification)
            }, Timer)

            BtnClose.onclick = function (e) {
                let Index_Notification = e.target.getAttribute('Index_Notification')
                RemoveNotification_Func(Index_Notification)
            }
        }

    }

    function RemoveNotification_Func(Index) {
        let Instance = LIST_ALL_NOTIFICATIONS_INSTANCE[Index]
        Instance.ContainerMessage.classList.add('Notification_Removed')
        setTimeout(function () {
            Instance.ContainerMessage.remove()
            delete Instance
        }, 300)
    }

    function ShowNotificationMessage(Text, Type, Timer = 5000, LevelOfNecessity = 3) {
        new ShowNotificationMessage_Model(Text, Type, Timer, LevelOfNecessity)
    }


    function CreateMessage_Alert(Text, FuncWhenOK, ValueFunc = null, FuncWhenCancel = null) {
        CloseMessage_Alert()
        LockAllElements()
        setTimeout(function () {
            document.body.className = ''

            let Container = document.createElement('div')
            let TextMessage = document.createElement('p')
            let BtnClose = document.createElement('button')
            let BtnOk = document.createElement('button')
            let BtnClose1 = document.createElement('i')


            Container.className = 'ContainerMessage_Alert'
            TextMessage.className = 'TextMessage_Alert'
            BtnClose.className = 'BtnClose_Alert BtnStyle_1'
            BtnOk.className = 'BtnOk_Alert BtnStyle_1'
            BtnClose1.className = 'fa fa-times BtnClose1_Alert'

            TextMessage.innerHTML = Text
            BtnClose.innerText = 'Cancel'
            BtnOk.innerText = 'Yes'

            BtnClose.onclick = function () {
                if (FuncWhenCancel != null) {
                    FuncWhenCancel()
                }
                CloseMessage_Alert()
            }
            BtnClose1.onclick = function () {
                if (FuncWhenCancel != null) {
                    FuncWhenCancel()
                }
                CloseMessage_Alert()
            }

            BtnOk.onclick = function () {
                if (ValueFunc != null) {
                    FuncWhenOK(ValueFunc)
                } else {
                    FuncWhenOK()
                }
                CloseMessage_Alert()
            }

            Container.appendChild(TextMessage)
            Container.appendChild(BtnClose)
            Container.appendChild(BtnClose1)
            Container.appendChild(BtnOk)
            ClickOutSideContainer(Container, function () {
                CloseMessage_Alert()
            }, 'OutSide')
            document.body.insertBefore(Container, document.body.firstElementChild)
            BlurAllElementsExceptMessage_Alert()

            // Focus on Button Close
            BtnOk.focus()
        })
    }

    function CloseMessage_Alert() {
        try {
            document.getElementsByClassName('ContainerMessage_Alert')[0].remove()
        } catch (e) {
        }
        UnlockAllElements()
        Clear_BlurAllElementsExceptMessage_Alert()
    }

    function BlurAllElementsExceptMessage_Alert() {
        document.body.classList.add('BlurAllElementsExceptMessage_Alert')
        document.body.style.overflow = 'hidden'
    }

    function Clear_BlurAllElementsExceptMessage_Alert() {
        document.body.classList.remove('BlurAllElementsExceptMessage_Alert')
        document.body.style.overflow = ''
    }

    function LockAllElements() {
        $('body *').prop('disabled', true)
    }

    function UnlockAllElements() {
        $('body *').prop('disabled', false)
        $('input[type=checkbox]').prop('disabled', true)
        $('#ContainerForm input[type=radio]').prop('disabled', true)
        $('#ContainerForm input[type=file]').prop('disabled', true)
    }

    function ClickOutSideContainer(Container, FuncWhenOutSideClick, State = 'Inside') {
        document.addEventListener('click', ClickOutSideCnt = function (event) {
            let IsClickInContainer = Container.contains(event.target);
            if (!IsClickInContainer) {
                if (State == 'OutSide') {
                    FuncWhenOutSideClick()
                    State = 'Inside'
                    document.removeEventListener('click', ClickOutSideCnt)
                }
                State = 'OutSide'
            }
        });
    }
</script>
<script>
    $(document).ready(function () {

        $('button').click(function (e) {
            $('.collapse').collapse('hide');
        });
    });


    let allBtnTimeReserve = document.querySelectorAll('[btn-reserve-time]')

    for (let btn_time of allBtnTimeReserve) {
        btn_time.addEventListener('click', function () {
            let time_id = this.getAttribute('time-id') || null
            let day_id = this.getAttribute('day-id') || null
            if (time_id && day_id) {
                setInfoReserveTime(time_id,day_id)
            } else {
                ShowNotificationMessage('مشکلی پیش امده است . لطفا پس از بارگذاری مجدد امتحان کید')
            }
        })
    }
    let input_time_id = document.getElementById('input-time-id')
    let input_day_id = document.getElementById('input-day-id')
    function setInfoReserveTime(time_id,day_id) {
        input_time_id.value = time_id
        input_day_id.value = day_id
        $('#modal-reserve-time').modal('show')
    }





</script>
</body>
</html>  

